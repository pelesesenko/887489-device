var mapModal=document.querySelector(".modal-map"),feedbackModal=document.querySelector(".feedback-modal");if(mapModal){var mapOpen=document.querySelector(".open-map"),mapClose=mapModal.querySelector(".modal-map .modal-close"),overlay=document.querySelector(".overlay");mapOpen.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-show"),overlay.style.display="block"}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.remove("modal-show"),overlay.style.display=""}),window.addEventListener("keydown",function(e){27==e.keyCode&&(mapModal.classList.contains("modal-show")&&(e.preventDefault(),mapModal.classList.remove("modal-show"),overlay.style.display=""),feedbackModal.classList.contains("modal-show")&&(e.preventDefault(),feedbackModal.classList.remove("modal-error"),feedbackModal.classList.remove("modal-show"),overlay.style.display=""))})}if(feedbackModal){var feedbackOpen=document.querySelector(".btn-open-form"),feedbackClose=feedbackModal.querySelector(".feedback-modal .modal-close"),feedbackSubmit=feedbackModal.querySelector("[type=submit]"),feedbackLogin=feedbackModal.querySelector("[name=login]"),feedbackEmail=feedbackModal.querySelector("[name=email]"),feedbackTxtArea=feedbackModal.querySelector("[name=mail-text]");feedbackOpen.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add("modal-show"),overlay.style.display="block",storageLogin?(feedbackLogin.value=storageLogin,feedbackEmail.focus(),storageEmail&&(feedbackEmail.value=storageEmail,feedbackTxtArea.focus())):feedbackLogin.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.remove("modal-show"),feedbackModal.classList.remove("modal-error"),overlay.style.display=""}),feedbackSubmit.addEventListener("click",function(e){feedbackLogin.value&&feedbackEmail.value?isStorageSupport&&(localStorage.setItem("feedbackLogin",feedbackLogin.value),localStorage.setItem("feedbackEmail",feedbackEmail.value)):(e.preventDefault(),feedbackModal.classList.remove("modal-error"),feedbackModal.offsetWidth=feedbackModal.offsetWidth,feedbackModal.classList.add("modal-error"),feedbackLogin.style.backgroundColor="#f6dada",feedbackLogin.value||(feedbackLogin.style.backgroundColor="#f6dada"),feedbackEmail.value||(feedbackEmail.style.backgroundColor="#f6dada"))});var isStorageSupport=!0,storageLogin="",storageEmail="";try{storageLogin=localStorage.getItem("login"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}}var catalogMenu=document.querySelector(".header-catalog-menu"),catalogMenuAnchors=catalogMenu.querySelectorAll(".header-catalog-menu a"),goodsCatalog=document.querySelector(".goods-catalog");goodsCatalog.addEventListener("focus",function(){catalogMenu.style.visibility="visible"}),catalogMenuAnchors[catalogMenuAnchors.length-1].addEventListener("blur",function(){catalogMenu.style.visibility=""});
